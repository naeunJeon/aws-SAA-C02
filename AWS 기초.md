
AWS 5대 원칙
1. 보안
- 보안과 규정준수는 AWS와 고객의 공동 책임
- AWS는 클라우드 서비스의 물리적 인프라, 소프트웨어 및 네트워킹 기능이 포함
- 고객은 클라우드 서비스의 구성, 애플리케이션 소프트웨어 및 민감한 데이터 관리에 대한 보안책임이 있음
1-1. 멘탈 모델
- 클라우드에서의 보안을 고려할 때는 제로트러스트 모델을 도입하는 것이 유용
- 모든 애플리케이션 구성 요소 및 서비스는 별개이며 잠재적으로 악의적인 엔터티로 간주
- 기반 네트워크 패브릭, 리소스에 액세스하는 모든 에이전트 및 서비스 내부에서 실행되는 소프트웨어가 포함


1-2. 개념
- 제로트러스트의 관점에서 보안은 모든 시스템 수준에 보안 조치를 적용하는 것을 의미
a. Identity and Access Mangagement(IAM)
IAM은 시스템에서 ID 및 액세스를 추적하는 서비스, AWS에서 관리되며 액세스는 AWS 내에서 에이전트에 대한 액세스 경계를 적용하는 IAM 정책을 사용하여 관리
구성요소
'주체'는 권한이 제공되는 대상을 지정 -> ID 기반 정책
'작업'은 수행되는 것을 지정
'리소스'는 액세스되는 속성을 지정 -> 리소스 기반 정책(s3, kms, ses에만 리소스 기반 정책이 적용됨)
IAM에 제로 트러스트 모델을 적용하는 것은 최소 권한 원칙을 사용하는 것을 의미
요점
- IAM 정책은 AWS내에서 엔터티의 액세스 경계를 명시함
- IAM 정책은 주체, 작업 및 리소스로 구성
- IAM 정책을 사용하여 주체에 최소한 권한을 적용할 수 있음
- IAM에는 ID 기반 및 리소스 기반 등 여러 정책 유형이 있음
- IAM은 지정된 리소스에 적용할 수 있는 모든 정책 유형에 대한 평가를 기반으로 액세스를 평가함

b. 네트워크 보안
네트워크 보안에는 네트워크 및 네트워크에 액세스할 수 있는 리소스의 액세스 및 사용성을 보호하는 시스템, 구성 또는 프로세스가 포함됨
네트워크 보안에 대한 제로 트러스트 접근법에는 네트워크의 모든 레이어에 보안 제어를 적용하는 심층적 방어 접근법이 포함됨

네트워크 수준 보안
AWS에서 기본 네트워크 수준은 VPC
VPC일부 구성요소
- 서브넷 : VPC 내부의 IP 주소 범위
- 라우팅 테이블 : 트래픽이 이동하는 위치를 결정하는 규칙 집합
- 인터넷 게이트웨이 : VPC 내부의 리소스와 인터넷 사이에서 통신을 할 수 있게 해주는 구성 요소
VPC에서 트래픽을 보호하려면, 리소스를 공용리소스와 내부리소스로 나눌수 있음, 공격을 줄이기 위해서, 모든 인터넷트래픽을 처리하는 ALB 같은 프록시 서비스를 사용할 수 있음
그러면 서버 및 데이터베이스와 같은 모든 내부 서비스는 직접적인 공용 인터넷 액세스가 차단 된 내부 서브넷 내부에서 프로비저닝 될 수 있음

VPC뿐만 아니라 WAF를 사용하여 네트워크에 대한 트래픽을 추가적으로 제한할 수 있음

리소스 수준 보안
개별 AWS 리소스에도 사용자가 구성이 가능한 네트워크 보안 제어를 적용할 수 있음, 가장 일반적인 제어는 보안그룹임, 보안그룹은 리소스로 유입 및 유출되는 트래픽 흐름을 적용하기 위해 사용할 수 있는 가상 방화벽, 보안그룹을 사용하면 특정 포트 또는 인스턴스에서 신뢰할 수 있는 소스로부터 트래픽만 허용할 수 있음, EC2 인스턴스, RDS 인스턴스 및 람다 등의 리소스에 보안 그룹을 연결할 수 있음

요점
- 네트워크 보안에는 네트워크 및 네트워크에 액세스할 수 있는 리소스의 액세스 및 사용성을 보호하도록 설계된 메커니즘이 포함됨
- 네트워크 보안에 대한 제로 트러스트 접근법에는 네트워크의 모든 레이어에 심층적인 방어를 구축하는 것이 포함됨
- VPC 및 WAF는 네트워크 수준에 보안조치를 적용할 수 있도록 허용함
- 보안 그룹은 리소스 수준에 보안조치를 적용할 수 있도록 허용함

c. 데이터 암호화
데이터 암호화는 데이터의 암호를 해독하기 위해 필요한 키가 없는 제3자가 이해할 수 없는 방식으로 정보를 암호화하는 프로세스
데이터에 제로 트러스트 모델을 적용하는 것은 모든곳에 있는 전송중 및 저장중 데이터 모두를 암호화하는 것

전송 중 암호화
데이터가 시스템 사이에서 이동할 때 데이터를 암호화, AWS 내의 모든 스토리지 및 데이터베이스 서비스는 전송 중 데이터 암호화를 지원하는 HTTP 엔드포인트를 제공,
또한 AWS는 사용자 서비스에 전송 중 암호화를 적용할 수 있는 네트워크 서비스 제공, ALB를 사용하면 사용자의 엔드포인터에 HTTPS 연결을 적용할 수 있음 

저장 중 암호화
저장 중 암호화에서는 시스템 내의 데이터를 암호화, 모든 AWS 스토리지 및 데이터베이스 서비스는 저장 중 암호화를 지원, 이러한 서비스 중 대부분은 암호화가 기본적으로 수행
암호화를 위한 추가 비용 및 데이터를 암호화하기 위한 성능 저하가 없음

대부분의 스토리지 및 데이터베이스 서비스는 KMS와 직접 통합됨, 이는 데이터를 암호화하기 위해 고객관리키(CMK)를 생성할 수 있도록 해주는 중앙 키관리 서비스임

CMK를 사용하면 암호화 이상의 추가 기능이 제공됨, 그러한 기능에는 자체 사용자 지정 키 저장소 사용, AWS CloudTrail 과 통합하여 암호화된 리소스에 대한 감사 추적 생성 및 자동 키 회전 적용 등이 있음

요점
- 암호화는 올바른 키를 가지고 있는 당사자만 정보의 암호를 해독할 수 있는 방식으로 정보를 암호화하는 프로세스
- 전송 중 저장 중 데이터를 암호화하여 데이터의 보안을 유지할 수 있음
- AWS의 모든 스토리지 밑 데이터베이스 서비스는 전송 중 및 저장 중 암호화를 제공
- ALB등 AWS 네트워킹 서비스를 사용하면 자체 서비스에 전송 중 암호화를 적용할 수 있음
- CMK 를 사용하면 감사 추적 생성, 자체 사용자 지정 키 사용 및 자동 키 회전과 같은 고급 기능을 활용할 수 있음

2. 성능 효율성
3. 안정성
4. 운영 우수성
5. 비용 최적화



참고
https://aws.amazon.com/ko/getting-started/fundamentals-core-concepts/?e=gs2020&p=gsrc

제로트러스트 : 기본적으로 기업 내/외부를 막론하고 적절한 인증 절차 없이는 그 누구도 신뢰해서는 안되며, 시스템에 접속하고자 하는 모든 것에 접속 권한을 부여하기 전 신원 확인 과정을 거쳐야 한다는 것
(https://blog.lgcns.com/1952)

kms : AWS KMS(Key Management Service) 를 사용하면 손쉽게 암호화 키를 생성 및 관리하고 다양한 aws 서비스와 애플리케이션의 사용을 제어할 수 있음
(https://docs.aws.amazon.com/ko_kr/kms/latest/developerguide/concepts.html)

ses : AWS SES(Simple Email Service) 는 개발자가 모든 애플리케이션 안에서 이메일을 보낼수 있는 경제적이고, 유연하며, 확장가능한 이메일 서비스

VPC : AWS VPC(Virtual Private Cloud) 를 사용하면 AWS 클라우드에서 논리적으로 격리된 공간을 프로비저닝하여 고객이 정의하는 가상 네트워크에서 AWS 리소스를 시작할 수 있음
(https://aws.amazon.com/ko/vpc/)

ALB : AWS ALB (Application Load Balancer) 는 OSI 모델의 일곱 번째 계층인 애플리케이션 계층에서 작동함, 요청을 받으면 우선 순위에 따라 리스터 규칙을 평가하여 적용할 규칙을 결정한 다음, 규칙 작업의 대상 그룹에서 대상을 선택
(Elastic Load Balancing 세가지 유형중 하나, NLB, CLB 가 있음)
(https://docs.aws.amazon.com/ko_kr/elasticloadbalancing/latest/application/introduction.html)

WAF : AWS WAF (Web Application Firewall)는 가용성에 영향을 주거나, 보안을 위협하거나, 리소스를 과도하게 사용하는 일반적인 웹 공격으로부터 웹 애플리케이션이나 API를 보호하는 데 도움이 되는 웹 애플리케이션 방화벽

AWS CloudTrail : AWS 계정의 정책, 규정 준수, 운영 감사, 위험 감시를 지원하는 서비스로 CloudTrail을 사용하면 AWS 인프라에서 계정 활동과 관련된 작업을 기록하고 지속적으로 모니터링하며 보관
